<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.babt.stat.mapper.BabtShcCarEvlOrderDao">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.babt.stat.entity.BabtShcCarEvlOrder">
		<id column="ID" jdbcType="INTEGER" property="id" />
	    <result column="CarId" jdbcType="INTEGER" property="carid" />
	    <result column="BatteryId" jdbcType="INTEGER" property="batteryid" />
	    <result column="OwnerId" jdbcType="INTEGER" property="ownerid" />
	    <result column="Operator" jdbcType="VARCHAR" property="operator" />
	    <result column="OperatorId" jdbcType="INTEGER" property="operatorid" />
	    <result column="EvlPurpose" jdbcType="INTEGER" property="evlpurpose" />
	    <result column="EvlMethod" jdbcType="INTEGER" property="evlmethod" />
	    <result column="OwnerName" jdbcType="VARCHAR" property="ownername" />
	    <result column="ModelName" jdbcType="VARCHAR" property="modelname" />
	    <result column="OrderDate" jdbcType="TIMESTAMP" property="orderdate" />
	    <result column="CusType" jdbcType="INTEGER" property="custype" />
	    <result column="IdType" jdbcType="INTEGER" property="idtype" />
	    <result column="IdNo" jdbcType="VARCHAR" property="idno" />
	    <result column="Phone" jdbcType="VARCHAR" property="phone" />
	    <result column="Address" jdbcType="VARCHAR" property="address" />
	    <result column="TransferTimes" jdbcType="INTEGER" property="transfertimes" />
	    <result column="IsModified" jdbcType="INTEGER" property="ismodified" />
	    <result column="AnnualInspectionDueTime" jdbcType="TIMESTAMP" property="annualinspectionduetime" />
	    <result column="InsuranceDueTime" jdbcType="TIMESTAMP" property="insuranceduetime" />
	    <result column="BusinessRiskDueTime" jdbcType="TIMESTAMP" property="businessriskduetime" />
	    <result column="OriginalBookValue" jdbcType="INTEGER" property="originalbookvalue" />
	    <result column="BookValue" jdbcType="INTEGER" property="bookvalue" />
	    <result column="StreetValue" jdbcType="INTEGER" property="streetvalue" />
	    <result column="ReplacementValue" jdbcType="INTEGER" property="replacementvalue" />
	    <result column="OwnerQuotedPrice" jdbcType="INTEGER" property="ownerquotedprice" />
	    <result column="LicensePlateTax" jdbcType="INTEGER" property="licenseplatetax" />
	    <result column="CarName" jdbcType="VARCHAR" property="carname" />
	    <result column="CarModelId" jdbcType="INTEGER" property="carmodelid" />
	    <result column="VINNo" jdbcType="VARCHAR" property="vinno" />
	    <result column="FrameworkNo" jdbcType="VARCHAR" property="frameworkno" />
	    <result column="LPNNo" jdbcType="VARCHAR" property="lpnno" />
	    <result column="EngineNo" jdbcType="VARCHAR" property="engineno" />
	    <result column="SeatCount" jdbcType="INTEGER" property="seatcount" />
	    <result column="Configutation" jdbcType="VARCHAR" property="configutation" />
	    <result column="Color" jdbcType="VARCHAR" property="color" />
	    <result column="OutputVolume" jdbcType="VARCHAR" property="outputvolume" />
	    <result column="FuelType" jdbcType="INTEGER" property="fueltype" />
	    <result column="ArchFeature" jdbcType="VARCHAR" property="archfeature" />
	    <result column="ImplTech" jdbcType="VARCHAR" property="impltech" />
	    <result column="Area" jdbcType="VARCHAR" property="area" />
	    <result column="ManufactureDate" jdbcType="TIMESTAMP" property="manufacturedate" />
	    <result column="BuyDatetime" jdbcType="TIMESTAMP" property="buydatetime" />
	    <result column="BoardingDate" jdbcType="TIMESTAMP" property="boardingdate" />
	    <result column="RecordDate" jdbcType="TIMESTAMP" property="recorddate" />
	    <result column="UsageType" jdbcType="INTEGER" property="usagetype" />
	    <result column="WorkCondition" jdbcType="VARCHAR" property="workcondition" />
	    <result column="CarBigFix" jdbcType="INTEGER" property="carbigfix" />
	    <result column="EngineBigFix" jdbcType="INTEGER" property="enginebigfix" />
	    <result column="BPManufacturer" jdbcType="VARCHAR" property="bpmanufacturer" />
	    <result column="BPLevel" jdbcType="VARCHAR" property="bplevel" />
	    <result column="BPGearbox" jdbcType="VARCHAR" property="bpgearbox" />
	    <result column="BPCarBodyArch" jdbcType="VARCHAR" property="bpcarbodyarch" />
	    <result column="BPLengthWidthHeight" jdbcType="VARCHAR" property="bplengthwidthheight" />
	    <result column="BPWheelbase" jdbcType="INTEGER" property="bpwheelbase" />
	    <result column="BPCargoVolume" jdbcType="INTEGER" property="bpcargovolume" />
	    <result column="BPCurbWeight" jdbcType="INTEGER" property="bpcurbweight" />
	    <result column="PSBatteryType" jdbcType="INTEGER" property="psbatterytype" />
	    <result column="PSBatteryEnergy" jdbcType="REAL" property="psbatteryenergy" />
	    <result column="PSExtensionMileage" jdbcType="INTEGER" property="psextensionmileage" />
	    <result column="PSMaxMotorPower" jdbcType="INTEGER" property="psmaxmotorpower" />
	    <result column="PSMaxMotorTorque" jdbcType="INTEGER" property="psmaxmotortorque" />
	    <result column="PSChargeMode" jdbcType="INTEGER" property="pschargemode" />
	    <result column="PSFastChargeElectricity" jdbcType="INTEGER" property="psfastchargeelectricity" />
	    <result column="PSChargingTime" jdbcType="VARCHAR" property="pschargingtime" />
	    <result column="CBDrivingMode" jdbcType="INTEGER" property="cbdrivingmode" />
	    <result column="CBSupportType" jdbcType="INTEGER" property="cbsupporttype" />
	    <result column="CBFrontSuspensionType" jdbcType="INTEGER" property="cbfrontsuspensiontype" />
	    <result column="CBRearSuspensionType" jdbcType="INTEGER" property="cbrearsuspensiontype" />
	    <result column="CBFrontBrakeType" jdbcType="INTEGER" property="cbfrontbraketype" />
	    <result column="CBRearBrakeType" jdbcType="INTEGER" property="cbrearbraketype" />
	    <result column="CBParkingBrakeType" jdbcType="INTEGER" property="cbparkingbraketype" />
	    <result column="CBFrontTireSpecification" jdbcType="VARCHAR" property="cbfronttirespecification" />
	    <result column="CBRearTireSpecification" jdbcType="VARCHAR" property="cbreartirespecification" />
	    <result column="SCMainDriverAirbag" jdbcType="INTEGER" property="scmaindriverairbag" />
	    <result column="SCCoPilotAirbags" jdbcType="INTEGER" property="sccopilotairbags" />
	    <result column="SCFrontSideAirbag" jdbcType="INTEGER" property="scfrontsideairbag" />
	    <result column="SCBackSideAirbag" jdbcType="INTEGER" property="scbacksideairbag" />
	    <result column="SCFrontHeadAirbag" jdbcType="INTEGER" property="scfrontheadairbag" />
	    <result column="SCBackHeadAirbag" jdbcType="INTEGER" property="scbackheadairbag" />
	    <result column="SCTirePressureDetection" jdbcType="INTEGER" property="sctirepressuredetection" />
	    <result column="SCCarLock" jdbcType="INTEGER" property="sccarlock" />
	    <result column="SCChildSeatInterface" jdbcType="INTEGER" property="scchildseatinterface" />
	    <result column="SCKeylessStartup" jdbcType="INTEGER" property="sckeylessstartup" />
	    <result column="SCABS" jdbcType="INTEGER" property="scabs" />
	    <result column="SCESP" jdbcType="INTEGER" property="scesp" />
	    <result column="ECElectricSkylight" jdbcType="INTEGER" property="ecelectricskylight" />
	    <result column="ECPanoramicSunroof" jdbcType="INTEGER" property="ecpanoramicsunroof" />
	    <result column="ECElectricSuctionDoor" jdbcType="INTEGER" property="ecelectricsuctiondoor" />
	    <result column="ECInductiveBackupBox" jdbcType="INTEGER" property="ecinductivebackupbox" />
	    <result column="ECInductionWiper" jdbcType="INTEGER" property="ecinductionwiper" />
	    <result column="ECRearWiper" jdbcType="INTEGER" property="ecrearwiper" />
	    <result column="ECFrontElectricWindow" jdbcType="INTEGER" property="ecfrontelectricwindow" />
	    <result column="ECBackElectricWindow" jdbcType="INTEGER" property="ecbackelectricwindow" />
	    <result column="ECRearViewMirrorElectromotion" jdbcType="INTEGER" property="ecrearviewmirrorelectromotion" />
	    <result column="ECRearViewMirrorHeating" jdbcType="INTEGER" property="ecrearviewmirrorheating" />
	    <result column="ICMultifunctionSteeringWheel" jdbcType="INTEGER" property="icmultifunctionsteeringwheel" />
	    <result column="ICCruiseControl" jdbcType="INTEGER" property="iccruisecontrol" />
	    <result column="ICAirConditioner" jdbcType="INTEGER" property="icairconditioner" />
	    <result column="ICAutoAirConditioner" jdbcType="INTEGER" property="icautoairconditioner" />
	    <result column="ICGPSNavigation" jdbcType="INTEGER" property="icgpsnavigation" />
	    <result column="ICReversingRadar" jdbcType="INTEGER" property="icreversingradar" />
	    <result column="ICRearCameraParkingAid" jdbcType="INTEGER" property="icrearcameraparkingaid" />
	    <result column="ICLeatherSeat" jdbcType="INTEGER" property="icleatherseat" />
	    <result column="ICFrontBackSeatHeating" jdbcType="INTEGER" property="icfrontbackseatheating" />
	    <result column="EvlArea" jdbcType="VARCHAR" property="evlarea" />
	    <result column="ProvinceCode" jdbcType="VARCHAR" property="provincecode" />
	    <result column="CityCode" jdbcType="VARCHAR" property="citycode" />
	    <result column="DistrictCode" jdbcType="VARCHAR" property="districtcode" />
	</resultMap>
	
	
	<select id="queryGoeMonthProvince" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeMonthProvince">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode, 
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and
		completeDate between #{startTime} and #{endTime}
	</select>
	
	
	<select id="queryGoeMonthCity" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeMonthCity">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode, CityCode as cityCode,
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and CityCode=#{cityCode} and
		completeDate between #{startTime} and #{endTime}
	</select>


	<select id="queryGoeMonthDistrict" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeMonthDistrict">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode, CityCode as cityCode, DistrictCode as districtCode,
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and CityCode=#{cityCode} and districtCode=#{districtCode} and
		completeDate between #{startTime} and #{endTime}
	</select>
	
	
	
	
	<select id="queryGoeWeekProvince" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeWeekProvince">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode,
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and
		completeDate between #{startTime} and #{endTime}
	</select>
	
	
	<select id="queryGoeWeekCity" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeWeekCity">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode, CityCode as cityCode,
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and CityCode=#{cityCode} and
		completeDate between #{startTime} and #{endTime}
	</select>


	<select id="queryGoeWeekDistrict" parameterType="com.babt.stat.entity.cond.PcdMonthCond" resultType="com.babt.stat.entity.BabtStGoeWeekDistrict">
		select count(r.id) as carCount, avg(Mileage) as avgMile, BPManufacturer as
		manufacture, ProvinceCode as provinceCode, CityCode as cityCode, DistrictCode as districtCode,
		a.longitude as longitude, a.latitude as latitude from babt_shc_car_evl_record r, babt_shc_car_evl_order o, babt_area_code a
		where r.orderId=o.id and a.area=o.evlarea and Completed=3 and ProvinceCode=#{provinceCode} and CityCode=#{cityCode} and districtCode=#{districtCode} and
		completeDate between #{startTime} and #{endTime}
	</select>
	
	
	
	
</mapper>
